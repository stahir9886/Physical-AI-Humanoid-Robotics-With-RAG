"use strict";(globalThis.webpackChunktextbook_website=globalThis.webpackChunktextbook_website||[]).push([[176],{6238:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"chapter-3-ros-2-fundamentals/index","title":"ROS 2 Fundamentals","description":"Introduction to ROS 2","source":"@site/docs/chapter-3-ros-2-fundamentals/index.md","sourceDirName":"chapter-3-ros-2-fundamentals","slug":"/chapter-3-ros-2-fundamentals/","permalink":"/ur/docs/chapter-3-ros-2-fundamentals/","draft":false,"unlisted":false,"editUrl":"https://github.com/your-username/Physical-AI-Humanoid-Robotics/edit/main/docusaurus/docs/chapter-3-ros-2-fundamentals/index.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"ROS 2 Fundamentals"},"sidebar":"tutorialSidebar","previous":{"title":"Basics of Humanoid Robotics","permalink":"/ur/docs/chapter-2-basics-of-humanoid-robotics/"},"next":{"title":"Digital Twin Simulation (Gazebo + Isaac)","permalink":"/ur/docs/chapter-4-digital-twin-simulation/"}}');var r=n(4848),t=n(8453);const l={sidebar_position:3,title:"ROS 2 Fundamentals"},o="ROS 2 Fundamentals",a={},d=[{value:"Introduction to ROS 2",id:"introduction-to-ros-2",level:2},{value:"Architecture Overview",id:"architecture-overview",level:2},{value:"Nodes",id:"nodes",level:3},{value:"Topics and Messages",id:"topics-and-messages",level:3},{value:"Services",id:"services",level:3},{value:"Actions",id:"actions",level:3},{value:"Key Concepts and Features",id:"key-concepts-and-features",level:2},{value:"DDS (Data Distribution Service)",id:"dds-data-distribution-service",level:3},{value:"Quality of Service (QoS)",id:"quality-of-service-qos",level:3},{value:"Composition",id:"composition",level:3},{value:"Lifecycle Nodes",id:"lifecycle-nodes",level:3},{value:"Setting Up ROS 2",id:"setting-up-ros-2",level:2},{value:"Installation",id:"installation",level:3},{value:"Environment Setup",id:"environment-setup",level:3},{value:"Practical Examples",id:"practical-examples",level:2},{value:"Creating a Node",id:"creating-a-node",level:3},{value:"Working with Parameters",id:"working-with-parameters",level:3},{value:"ROS 2 Ecosystem",id:"ros-2-ecosystem",level:2},{value:"Available Distributions",id:"available-distributions",level:3},{value:"Popular Packages",id:"popular-packages",level:3},{value:"ROS 2 vs. ROS 1",id:"ros-2-vs-ros-1",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Node Design",id:"node-design",level:3},{value:"Messaging",id:"messaging",level:3},{value:"Testing",id:"testing",level:3},{value:"Conclusion",id:"conclusion",level:2}];function c(e){const i={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.header,{children:(0,r.jsx)(i.h1,{id:"ros-2-fundamentals",children:"ROS 2 Fundamentals"})}),"\n",(0,r.jsx)(i.h2,{id:"introduction-to-ros-2",children:"Introduction to ROS 2"}),"\n",(0,r.jsx)(i.p,{children:"The Robot Operating System 2 (ROS 2) is not an operating system but rather a flexible framework for writing robot software. It is a collection of tools, libraries, and conventions that aim to simplify the task of creating complex and robust robot behavior across a wide variety of robot platforms."}),"\n",(0,r.jsx)(i.p,{children:"ROS 2 is the next generation of the Robot Operating System, addressing many limitations of the original ROS including:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Better support for real-time systems"}),"\n",(0,r.jsx)(i.li,{children:"Improved security features"}),"\n",(0,r.jsx)(i.li,{children:"Enhanced multi-robot systems support"}),"\n",(0,r.jsx)(i.li,{children:"Deterministic Quality of Service (QoS) policies"}),"\n",(0,r.jsx)(i.li,{children:"Better cross-platform support (Windows, macOS, Linux)"}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"architecture-overview",children:"Architecture Overview"}),"\n",(0,r.jsx)(i.h3,{id:"nodes",children:"Nodes"}),"\n",(0,r.jsx)(i.p,{children:"In ROS 2, processes are called nodes. A node is an executable that uses ROS 2 client libraries to communicate with other nodes. Nodes are designed to be simple and modular, with each node performing a single function."}),"\n",(0,r.jsx)(i.h3,{id:"topics-and-messages",children:"Topics and Messages"}),"\n",(0,r.jsx)(i.p,{children:"ROS 2 uses a publish-subscribe communication pattern where nodes communicate by passing messages over topics:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Messages"}),": Data structures that contain information sent between nodes"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Topics"}),": Named buses over which messages are sent"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Publishers"}),": Nodes that send messages to a topic"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Subscribers"}),": Nodes that receive messages from a topic"]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"services",children:"Services"}),"\n",(0,r.jsx)(i.p,{children:"For request-response communication, ROS 2 provides services:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Services"}),": Allow nodes to send a request and receive a response"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Service Servers"}),": Nodes that provide a service"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Service Clients"}),": Nodes that use a service"]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"actions",children:"Actions"}),"\n",(0,r.jsx)(i.p,{children:"For longer running tasks with feedback, ROS 2 provides actions:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Actions"}),": Similar to services but allow feedback during execution"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Action Servers"}),": Process action requests and send feedback"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Action Clients"}),": Send action requests and receive feedback"]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"key-concepts-and-features",children:"Key Concepts and Features"}),"\n",(0,r.jsx)(i.h3,{id:"dds-data-distribution-service",children:"DDS (Data Distribution Service)"}),"\n",(0,r.jsx)(i.p,{children:"ROS 2 uses DDS as its underlying middleware for communication:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Provides discovery mechanisms"}),"\n",(0,r.jsx)(i.li,{children:"Handles Quality of Service (QoS) policies"}),"\n",(0,r.jsx)(i.li,{children:"Enables real-time performance"}),"\n",(0,r.jsx)(i.li,{children:"Supports reliable and best-effort communication"}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"quality-of-service-qos",children:"Quality of Service (QoS)"}),"\n",(0,r.jsx)(i.p,{children:"QoS policies allow fine-tuning of communication behavior:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Reliability"}),": Reliable vs. best-effort delivery"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Durability"}),": Volatile vs. persistent data"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"History"}),": Keep-all vs. keep-last data"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Deadline"}),": Time constraints for data delivery"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Liveliness"}),": Monitoring participant availability"]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"composition",children:"Composition"}),"\n",(0,r.jsx)(i.p,{children:"ROS 2 supports composition of nodes to optimize performance:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Components: Libraries that can be combined into a single process"}),"\n",(0,r.jsx)(i.li,{children:"Composition: Combining multiple components into a single executable"}),"\n",(0,r.jsx)(i.li,{children:"Benefits: Reduced communication overhead and improved performance"}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"lifecycle-nodes",children:"Lifecycle Nodes"}),"\n",(0,r.jsx)(i.p,{children:"For managing complex system states:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Lifecycle nodes have explicit state transitions"}),"\n",(0,r.jsx)(i.li,{children:"Enable better resource management"}),"\n",(0,r.jsx)(i.li,{children:"Support for initialization and shutdown procedures"}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"setting-up-ros-2",children:"Setting Up ROS 2"}),"\n",(0,r.jsx)(i.h3,{id:"installation",children:"Installation"}),"\n",(0,r.jsx)(i.p,{children:"ROS 2 can be installed on multiple platforms:"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.strong,{children:"Ubuntu (recommended for development)"})}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Windows"})," (through binaries or WSL2)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"macOS"})," (through binaries or Docker)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Raspberry Pi OS"})," (for embedded systems)"]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"environment-setup",children:"Environment Setup"}),"\n",(0,r.jsx)(i.p,{children:"After installation, you need to source the ROS 2 environment:"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-bash",children:"source /opt/ros/<distro>/setup.bash\n"})}),"\n",(0,r.jsx)(i.h2,{id:"practical-examples",children:"Practical Examples"}),"\n",(0,r.jsx)(i.h3,{id:"creating-a-node",children:"Creating a Node"}),"\n",(0,r.jsx)(i.p,{children:"Basic ROS 2 node in Python:"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\n\nclass MinimalPublisher(Node):\n\n    def __init__(self):\n        super().__init__('minimal_publisher')\n        self.publisher_ = self.create_publisher(String, 'topic', 10)\n        timer_period = 0.5  # seconds\n        self.timer = self.create_timer(timer_period, self.timer_callback)\n        self.i = 0\n\n    def timer_callback(self):\n        msg = String()\n        msg.data = 'Hello World: %d' % self.i\n        self.publisher_.publish(msg)\n        self.get_logger().info('Publishing: \"%s\"' % msg.data)\n        self.i += 1\n"})}),"\n",(0,r.jsx)(i.h3,{id:"working-with-parameters",children:"Working with Parameters"}),"\n",(0,r.jsx)(i.p,{children:"ROS 2 includes a built-in parameter system:"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-python",children:"self.declare_parameter('param_name', 'default_value')\nparam_value = self.get_parameter('param_name').value\n"})}),"\n",(0,r.jsx)(i.h2,{id:"ros-2-ecosystem",children:"ROS 2 Ecosystem"}),"\n",(0,r.jsx)(i.h3,{id:"available-distributions",children:"Available Distributions"}),"\n",(0,r.jsx)(i.p,{children:"ROS 2 has different distributions released approximately every year:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Foxy Fitzroy"})," (June 2020) - LTS, supported until May 2025"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Galactic Geochelone"})," (May 2021) - EOL May 2022"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Humble Hawksbill"})," (May 2022) - LTS, supported until May 2027"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Iron Irwini"})," (May 2023) - EOL November 2024"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Jazzy Jalisco"})," (May 2024) - LTS, supported until May 2029"]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"popular-packages",children:"Popular Packages"}),"\n",(0,r.jsx)(i.p,{children:"The ROS 2 ecosystem includes thousands of packages:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Navigation2"}),": Path planning and navigation stack"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"MoveIt2"}),": Motion planning for robotic arms"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Robot State Publisher"}),": Publishes transforms for robot kinematics"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"TF2"}),": Transform library for coordinate systems"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Gazebo"}),": 3D simulation environment"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"OpenCV"}),": Computer vision library integration"]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"ros-2-vs-ros-1",children:"ROS 2 vs. ROS 1"}),"\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"Feature"}),(0,r.jsx)(i.th,{children:"ROS 1"}),(0,r.jsx)(i.th,{children:"ROS 2"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Communication"}),(0,r.jsx)(i.td,{children:"Custom"}),(0,r.jsx)(i.td,{children:"DDS-based"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Middleware"}),(0,r.jsx)(i.td,{children:"Master-based"}),(0,r.jsx)(i.td,{children:"DDS-based"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Platforms"}),(0,r.jsx)(i.td,{children:"Linux"}),(0,r.jsx)(i.td,{children:"Multi-platform"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Real-time"}),(0,r.jsx)(i.td,{children:"Limited"}),(0,r.jsx)(i.td,{children:"Better support"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Security"}),(0,r.jsx)(i.td,{children:"None"}),(0,r.jsx)(i.td,{children:"Built-in support"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Multi-robot"}),(0,r.jsx)(i.td,{children:"Complex"}),(0,r.jsx)(i.td,{children:"Better support"})]})]})]}),"\n",(0,r.jsx)(i.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsx)(i.h3,{id:"node-design",children:"Node Design"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Keep nodes focused on a single purpose"}),"\n",(0,r.jsx)(i.li,{children:"Use composition for performance-critical applications"}),"\n",(0,r.jsx)(i.li,{children:"Implement proper error handling"}),"\n",(0,r.jsx)(i.li,{children:"Log appropriately"}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"messaging",children:"Messaging"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Design messages for efficiency"}),"\n",(0,r.jsx)(i.li,{children:"Use appropriate QoS settings"}),"\n",(0,r.jsx)(i.li,{children:"Consider message size and frequency"}),"\n",(0,r.jsx)(i.li,{children:"Plan for backward compatibility"}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"testing",children:"Testing"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Use launch files for easy testing"}),"\n",(0,r.jsx)(i.li,{children:"Implement unit tests for components"}),"\n",(0,r.jsx)(i.li,{children:"Use system tests for integration"}),"\n",(0,r.jsx)(i.li,{children:"Consider using ros_testing tools"}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,r.jsx)(i.p,{children:"ROS 2 provides a powerful and flexible framework for developing complex robotic systems. Its modern architecture addresses many of the limitations of ROS 1 while maintaining the core philosophy of modular, distributed systems."}),"\n",(0,r.jsx)(i.p,{children:"The next chapter will explore Digital Twin Simulation using Gazebo and Isaac, which are essential tools for testing and developing robotics applications before deploying them on real hardware."})]})}function h(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>l,x:()=>o});var s=n(6540);const r={},t=s.createContext(r);function l(e){const i=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(t.Provider,{value:i},e.children)}}}]);